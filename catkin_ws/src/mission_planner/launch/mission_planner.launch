<launch>

    <!-- Start the mission planner state machine -->
    <node name="mission_planner"
          pkg="mission_planner"
          type="MissionPlanner.py"
          respawn="false"
          output="screen">
        <param name="angle_thresh" value="0.175" />
    </node>	


    <!-- Start the Action servers needed for the mission planner to run -->
    <node name="GateDepthServer"
          pkg="mission_planner"
          type="GateDepthServer.py">
    </node>	
    <node name="GatePassThroughServer"
          pkg="mission_planner"
          type="GatePassThroughServer.py">
    </node>
    <node name="LaneDetectorAlignmentServer"
          pkg="mission_planner"
          type="LaneDetectorAlignmentServer.py">
    </node>
    <node name="LaneDetectorCenteringServer"
          pkg="mission_planner"
          type="LaneDetectorCenteringServer.py">
    </node>


	<?ignore
	BLOCK COMMENT FOR ALL THE CONTROLLERS
	<!--LANE_DETECTOR_YAW-->
	<node name="controller" pkg="pid" type="controller" ns="lane_yaw_pid" output="screen">
	    <param name="node_name" value="pid" />

	    <!--Default PID Gains (Should load from file eventually)-->
	    <param name="Kp" value="10" />
	    <param name="Ki" value="0.0" />
	    <param name="Kd" value="0.0" />

	    <!--Effort Limits-->
	    <param name="upper_limit" value="1000" />
	    <param name="lower_limit" value="-1000" />

	    <!--Integral Factor Limit-->
	    <param name="windup_limit" value="10" />

	    <!--Set Topics-->
	  	<!--Setpoint will be "/<ns>/setpoint"-->
	  	<!--Enable will be "/<ns>/pid_enable"-->
	  	<param name="topic_from_controller" value="/controls/superimposer/yaw" />
	  	<param name="topic_from_plant" value="/cv/down_cam_heading_Hough" />
	</node>

	<!--NAVIGATE_TO_BUOY_SWAY-->
	<node name="controller" pkg="pid" type="controller" ns="buoy_sway_pid" output="screen">
	    <param name="node_name" value="pid" />

	    <!--Default PID Gains (Should load from file eventually)-->
	    <param name="Kp" value="10" />
	    <param name="Ki" value="0.0" />
	    <param name="Kd" value="0.0" />

	    <!--Effort Limits-->
	    <param name="upper_limit" value="1000" />
	    <param name="lower_limit" value="-1000" />

	    <!--Integral Factor Limit-->
	    <param name="windup_limit" value="10" />

	    <!--Set Topics-->
	  	<!--Setpoint will be "/<ns>/setpoint"-->
	  	<!--Enable will be "/<ns>/pid_enable"-->
	  	<param name="topic_from_controller" value="/controls/superimposer/sway" />
	  	<param name="topic_from_plant" value="/navigate_to_buoy/centroid_delta_x'" />
	</node>

	<!-- Heave PID -->
	<node name="controller" pkg="pid" type="controller" ns="heave_pid" output="screen">
	    <param name="node_name" value="pid" />

	    <!--Default PID Gains (Should load from file eventually)-->
	    <param name="Kp" value="10" />
	    <param name="Ki" value="0.0" />
	    <param name="Kd" value="0.0" />

	    <!--Effort Limits-->
	    <param name="upper_limit" value="1000" />
	    <param name="lower_limit" value="-1000" />

	    <!--Integral Factor Limit-->
	    <param name="windup_limit" value="10" />

	    <!--Set Topics-->
	  	<!--Setpoint will be "/<ns>/setpoint"-->
	  	<!--Enable will be "/<ns>/pid_enable"-->
	  	<param name="topic_from_controller" value="/controls/superimposer/heave" />
	  	<param name="topic_from_plant" value="/navigate_to_buoy/centroid_delta_y" />
	</node>

	<!--NAVIGATE_TO_BUOY_DISTANCE-->
	<node name="controller" pkg="pid" type="controller" ns="buoy_distance_pid" output="screen">
	    <param name="node_name" value="pid" />

	    <!--Default PID Gains (Should load from file eventually)-->
	    <param name="Kp" value="10" />
	    <param name="Ki" value="0.0" />
	    <param name="Kd" value="0.0" />

	    <!--Effort Limits-->
	    <param name="upper_limit" value="1000" />
	    <param name="lower_limit" value="-1000" />

	    <!--Integral Factor Limit-->
	    <param name="windup_limit" value="10" />

	    <!--Set Topics-->
	  	<!--Setpoint will be "/<ns>/setpoint"-->
	  	<!--Enable will be "/<ns>/pid_enable"-->
	  	<param name="topic_from_controller" value="/controls/superimposer/surge" />
	  	<param name="topic_from_plant" value="/cv/buoy_distance" />
	</node>

	END BLOCK COMMENT
	?>
</launch>
